contract PoaDelete {
    data {
        Id int
    }
    conditions {
        if !DBFind("power_of_attorney").Where({id:$Id, "$or":[{"address":$key_id}, {key_id_attorney:$key_id}], deleted:0}).One("id") {
            warning "Power of attorney does not exists"
        }
    }
    action {
        DBUpdate("power_of_attorney", $Id, {deleted:$time})
    }
}