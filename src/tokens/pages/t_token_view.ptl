DBFind(@1applications).Columns("id").Where({name:"Tokens", deleted:0}).Vars(application)
If(GetVar(Id)){
    DBFind(tokens).Where({id:#Id#}).Vars(item)
}
SetVar(title,$@1view$ ##Id#)
SetTitle(#title#)
Div(content-wrapper){
    Div(breadcrumb){
        LinkPage(Body: $@1tokens$, Page: t_tokens)
        Span(/, mh)
        Span(#title#, text-muted)
    }
    If(GetVar(Id)){
        Div(row){
            Div(col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3){
                Div(panel panel-primary){
                    Div(panel-heading){
                        LangRes(@1data_view)
                    }
                    Div(panel-body){
                        Div(row mt-sm){
                            Div(col-sm-4 text-right text-bold){
                                LangRes(@1type_emission)
                            }
                            Div(col-sm-8 text-left){
                                AppParam(App:#application_id#, Name:type_emission, Index:#item_type_emission#)
                            }
                        }

                        Div(row mt-sm){
                            Div(col-sm-4 text-right text-bold){
                                LangRes(@1title)
                            }
                            Div(col-sm-8 text-left){
                                #item_title#
                            }
                        }

                        Div(row mt-sm){
                            Div(col-sm-4 text-right text-bold){
                                LangRes(@1amount)
                            }
                            Div(col-sm-8 text-left){
                                JsonToSource(amounts, #item_amount#)
                                ForList(amounts){
                                    Div(row md-sm){
                                        Div(col-sm-6){
                                            Money(#value#) (APL)
                                        }
                                        Div(col-sm-6){
                                            DateTime(#key#, Format: YYYY-MM-DD HH:MI:SS)
                                        }
                                    }
                                }
                            }
                        }

                        Div(row mt-sm){
                            Div(col-sm-4 text-right text-bold){
                                LangRes(@1limited)
                            }
                            Div(col-sm-8 text-left){
                                If(#item_limited#==0){
                                    $@1no$
                                }.Else{
                                    DateTime(DateTime: #item_limited#, Format: YYYY-MM-DD HH:MI:SS)
                                }
                            }
                        }

                        Div(row mt-sm){
                            Div(col-sm-4 text-right text-bold){
                                LangRes(@1ecosystem)
                            }
                            Div(col-sm-8 text-left){
                                #item_ecosystem#
                            }
                        }

                        Div(row mt-sm){
                            Div(col-sm-4 text-right text-bold){
                                LangRes(@1type_withdraw)
                            }
                            Div(col-sm-8 text-left){
                                AppParam(App:#application_id#, Name:type_withdraw, Index:#item_type_withdraw#)
                            }
                        }
                    }
                    Div(panel-footer text-left){
                        Button(Body: $@1back$, Page: t_tokens, Class: btn btn-default)
                    }
                }
            }
        }
    }.Else{
        Div(h3 text-center){
            $@1item_not_found$
        }
    }
}