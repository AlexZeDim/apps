contract TeTypeChange {
    data {
        Id int
    }
    conditions {
        MainCondition()
        $item = DBFind("@1tokens").Where({id:$Id}).Row()
        if !$item {
            error "Emission not found"
        }
        $SINGLETIME = 1
        $MULTI = 2
        if $item["type_emission"] != $MULTI {
            error "Emission type error"
        }
    }
    action {
        DBUpdate("@1tokens", $Id, {type_emission:$SINGLETIME})
    }
}